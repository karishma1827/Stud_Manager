<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/style.css">
    <title>Student Manager Application</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Teko:wght@300..700&display=swap" rel="stylesheet">
    <link rel="icon" href="/static/icon.jfif">
    
</head>
<body class="bg">

    <h1 class="alignment font">Student Manager Application</h1>
    <div class="container">
        <div class="row">
            <div class="col-4">

                <div class="card" style="max-width: 16rem;">
                    <div class="card-header alignment font1">
                        <img src="https://www.shutterstock.com/image-vector/vector-illustration-register-now-speech-260nw-1902696775.jpg" alt="img" height="80px" width="200px">
                        {%if msg%}
                        <div class="alert alert-success alert-dismissible fade show" role="alert">
                          <strong>{{msg}} </strong>Registered succesfully!
                          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                        {%endif%}
                        <h3 class="txtcolor">REGISTERATION</h3>
                    </div>
                            <form action="/" method='post' >
                                <div class="card bg2">
                                    <div class="card-body">
                                      <input type="text" name="username" placeholder="Enter username">
                                    </div>
                                    <div class="card-body">
                                        <input type="number" name="age" placeholder="Enter age">
                                      </div>
                                      <div class="card-body">
                                        <input type="text" name="address" placeholder="Enter address">
                                      </div>
                                      <div class="card-body">
                                        <!-- <input type="text" name="course" placeholder="Enter course"> -->
                                      <select name="course" id="" >
                                        <option value="python">Python</option>
                                        <option value="web development">Web development</option>
                                        <option value="tally">Tally</option>
                                      </select>
                                      </div>
                                      <div class="card-body">
                                        <input type="text" name="duration" placeholder="Enter duration">
                                      </div>
                                      <button class="btn btn-success mx-5">SUBMIT</button>
                                  </div>
                            </form>
                        </div>
            </div>
                  <div class="col">
                    <div class="row">
                      {%if name%}
                      <div class="alert alert-warning alert-dismissible fade show" role="alert">
                        <strong>{{name}} </strong>Updated succesfully!
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                      </div>
                      {%endif%}
                      <table class="table table-success table-striped-columns">
                      <thead>
                        <tr>
                        <th>S.NO</th>
                        <th>NAME</th>
                        <th>AGE</th>
                        <th>ADDRESS</th>
                        <th>COURSE</th>
                        <th>Duration</th>
                        <th colspan="2">Action</th>
                      </tr>
                      <tbody>
                        {%for st in stud%}

                        <tr>
                        <td>{{st.sno}}</td>
                        <td>{{st.username}}</td>
                        <td>{{st.age}}</td>
                        <td>{{st.address}}</td>
                        <td>{{st.course}}</td>
                        <td>{{st.duration}}</td>
                        <td colspan="2">
                          <a href="/delete/{{st.sno}}" class="btn btn-danger"><i class="fa-solid fa-trash"></i></a>
                          <button type="button"  data-bs-toggle="modal" data-bs-target="#exampleModal{{st.sno}}" class="btn btn-warning"><i class="fa-solid fa-pen-to-square"></i></button></td>
                          <div class="modal fade" id="exampleModal{{st.sno}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <h1 class="modal-title fs-5" id="exampleModalLabel">Student Update</h1>
                                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                  <form action="/update/{{st.sno}}"  method="post">
                                  <input type="text" value="{{st.username}}"  name="username" class="form-control mx-2">
                                  <input type="text" value="{{st.age}}"  name="age" class="form-control mx-2">
                                  <input type="text" value="{{st.address}}"  name="address" class="form-control mx-2">
                                  <input type="text" value="{{st.course}}"  name="course" class="form-control mx-2">
                                  <input type="text" value="{{st.duration}}"  name="duration" class="form-control mx-2">
                                </div>
                                <div class="modal-footer">
                                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                  <button type="submit" class="btn btn-primary">Student Update</button>
                                </form>
                                </div>
                              </div>
                            </div>
                          </div>
     
                     </tr>
                      {%endfor%}
                      </tbody>
                      </thead>
                    </table>
                    </div>
                  </div>
                  </div>
            </div>
            
        </div>
    </div>
</body>
<script src="https://kit.fontawesome.com/cb5619b781.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</html>
